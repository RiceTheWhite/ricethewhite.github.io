<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>rais</title>

    <script>
      window.ondataload = () => { }
      fetch("https://api.lanyard.rest/v1/users/401649298598658048").then((a) => a.json().then((a) => {
          window.lanyard = a.data
          window.ondataload()
      }))
    </script>
  </head>
  <body>
    <div class="divider"></div>
    <div class="container">

      <h1 class="glow">hey, im rais.</h1>
      <img src="https://cdn.discordapp.com/avatars/401649298598658048/6e4e6fb60ae7da5e1ebcdefd6625c57a.webp?size=128" alt="">

      <script>
        window.ondataload = () => {
          if (window.lanyard.discord_status != 'offline') {
            document.getElementById("status").textContent = "Online";
          } else {
            document.getElementById("status").textContent = "Offline";
          }

          if (window.lanyard.listening_to_spotify) {
              const sanitized = window.lanyard.spotify.song.replace(/./gm, function (s) {
                // return "&#" + s.charCodeAt(0) + ";";
                return (s.match(/[a-z0-9\s]+/i)) ? s : "&#" + s.charCodeAt(0) + ";";
              });
              statusText.innerHTML = `Listening to <a href="https://open.spotify.com/track/${encodeURIComponent(window.lanyard.spotify.track_id)}" class="opacity-50">${sanitized}</a> on <a href="https://open.spotify.com/user/31o3gf5lvfhlzo4xrzsmolk3o26i">Spotify</a>`
          }
        }
      </script>
      <span>Status: </span>
      <span id="status" class="glow">Loading...</span>

      <h3 id="statusText">rais is not listening to anything...</h3>
      

      <h3>software developer, infosecurity, front-end developer, game developer</h3>
      <h5>hey! im rais, im a (un)professional developer mostly interested in pixel art and games.</h5>
    </div>
  </body>
</html>